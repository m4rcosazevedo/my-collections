import{c as x,a as n,u as g,j as e,B as h,b as t,s as f,d as j}from"./index-DR3-Ca1J.js";import{T as w}from"./title-Cp52_-6Y.js";import{u as S,C as m,o as b}from"./yup-1L-2tO0n.js";import{G as l}from"./Grid-DrKK030R.js";import{B as v}from"./Button-RmYHyikt.js";const y=x({email:n().email("Email inválido").required("O campo email é obrigatório"),password:n().min(6,"A senha deve ter no mínimo 6 caracteres").max(20,"A senha deve ter no máximo 20 caracteres").required("O campo senha é obrigatório")}).required(),A=()=>{const c=g(),{control:o,handleSubmit:d,formState:{errors:a}}=S({defaultValues:{email:"",password:""},resolver:b(y)}),p=async({email:s,password:r})=>{try{const i=await f(j,s,r),{user:u}=i;localStorage.setItem("user",JSON.stringify(u)),c("/")}catch(i){console.error("Error signing in:",i)}};return e.jsx(l,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:e.jsx(l,{item:!0,xs:4,children:e.jsx("form",{onSubmit:d(p),children:e.jsxs(h,{gap:2,flexDirection:"column",display:"flex",children:[e.jsx(w,{children:"Login"}),e.jsx(m,{name:"email",control:o,render:({field:s})=>{var r;return e.jsx(t,{id:"email",label:"Email",...s,helperText:(r=a.email)==null?void 0:r.message,error:!!a.email})}}),e.jsx(m,{name:"password",control:o,render:({field:s})=>{var r;return e.jsx(t,{type:"password",id:"password",label:"Senha",...s,helperText:(r=a.password)==null?void 0:r.message,error:!!a.password})}}),e.jsx(v,{variant:"contained",type:"submit",children:"Sign In"})]})})})})};export{A as default};
