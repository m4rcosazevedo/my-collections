import{w as i,x as m,y as p,z as h,A as g,j as a,M as x,B as u,T as d}from"./index-tbza1_OI.js";import{G as l}from"./Grid-DA6caf2V.js";const f=async({imageUrl:e,imageFile:t})=>{let o="";if(!(!e&&!t)){if(e)o=(await(await fetch(i.PROXY_UPLOAD_URI,{method:"POST",body:JSON.stringify({image:e}),headers:{"Content-Type":"application/json"}})).json()).imageUrl;else if(t){const r=t[0],s=m(p,`images/${r.name}`);await h(s,r),o=await g(s)}return o}},y="https://www.googleapis.com/customsearch/v1",b=async e=>{var s;const t=new URLSearchParams({key:i.GOOGLE_API_KEY,cx:i.GOOGLE_SEARCH_ENGINE_ID,q:e,searchType:"image"});return((s=(await(await fetch(y+"?"+t)).json()).items)==null?void 0:s.map(n=>n.link))??[]},I=({open:e,onClose:t,images:o,onSelectImage:r,loading:s})=>a.jsx(x,{open:e,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs(u,{sx:{bgcolor:"background.paper",boxShadow:24,p:4,maxWidth:800,maxHeight:"90vh",overflow:"auto",borderRadius:2},children:[a.jsx(d,{variant:"h6",id:"modal-title",gutterBottom:!0,children:"Selecionar Imagem"}),a.jsx("br",{}),s&&a.jsx(d,{variant:"body1",children:"Carregando..."}),a.jsx(l,{container:!0,spacing:2,children:o.map((n,c)=>a.jsx(l,{item:!0,children:a.jsx("img",{className:"object-contain",src:n,alt:`Imagem ${c+1}`,style:{width:150,height:150,cursor:"pointer"},onClick:()=>r(n)})},c))})]})});export{I as S,b as s,f as u};
