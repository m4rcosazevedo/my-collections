import{c as S,d as g,e as v}from"./type-service-C2ocUK40.js";import{aa as P,ab as h,f as w,g as A,ac as M,r as s}from"./index-YOkD1B5z.js";class k{constructor(e,t){this.service=e,this.get=t}async getProducts(){return(await this.get(this.service)).docs.map(t=>({id:t.id,...t.data()}))}}const D=()=>new k(P(w(A,"products"),h("name")),M).getProducts(),E=()=>{const[r,e]=s.useState(!0),[t,n]=s.useState([]),[p,i]=s.useState([]),[l,m]=s.useState([]),[f,d]=s.useState([]);return s.useEffect(()=>{e(!0),(async()=>{const y=await D(),o=await S(),c=await g(),u=await v();i(Array.from(c.values())),m(Array.from(o.values())),d(Array.from(u.values())),n(y.map(a=>({...a,platform:c.get(a.platform),status:u.get(a.status),type:o.get(a.type)}))),e(!1)})()},[]),{products:t,loading:r,platforms:p,types:l,statuses:f}};export{E as u};
